import{a as q}from"./chunk-JQZRJRG7.js";import{b as j}from"./chunk-7L3OMWMM.js";import{a as B}from"./chunk-4V4BOX2V.js";import{a as V,c as R,d as z,e as D,f as N,g as F,m as U,o as W}from"./chunk-6FGELC55.js";import{c as y,d as v,e as E,f as A}from"./chunk-R254MLMK.js";import{Ba as x,Fa as C,La as m,Ma as S,Na as i,Oa as r,Pa as T,Sa as _,Ta as l,Ua as d,Y as g,Ya as p,Z as u,Za as P,ab as k,bb as I,cb as O,da as w,eb as L,ta as s,wb as M,xa as f,yb as b}from"./chunk-QVS6JBII.js";function K(n,a){if(n&1&&(i(0,"div",10),p(1),r()),n&2){let t=d();s(),P(t.errorMsg)}}var h=class n{constructor(a,t){this.router=a;this.tecnicoService=t}tecnicoId="";password="";close=new w;loginSuccess=new w;errorMsg="";ingresar(){this.tecnicoId&&this.password&&this.tecnicoService.getTecnicoById(this.tecnicoId).subscribe(a=>{a&&a.contrase\u00F1a===this.password?(this.errorMsg="",this.loginSuccess.emit(this.tecnicoId),this.cerrar(),this.router.navigate(["/mis-citas"],{queryParams:{tecnicoId:this.tecnicoId}})):this.errorMsg="ID o contrase\xF1a incorrectos"})}cerrar(){this.close.emit()}static \u0275fac=function(t){return new(t||n)(f(v),f(j))};static \u0275cmp=x({type:n,selectors:[["app-ingreso-tecnicos"]],outputs:{close:"close",loginSuccess:"loginSuccess"},decls:16,vars:3,consts:[[1,"modal-backdrop",3,"click"],[1,"modal-ingreso",3,"click"],["autocomplete","off",3,"ngSubmit"],[1,"form-group"],["for","tecnicoId"],["id","tecnicoId","name","tecnicoId","required","","autocomplete","off",3,"ngModelChange","ngModel"],["for","password"],["id","password","name","password","type","password","required","","autocomplete","off",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","btn-ingresar"],["class","error-msg",4,"ngIf"],[1,"error-msg"]],template:function(t,e){t&1&&(i(0,"div",0),l("click",function(){return e.cerrar()}),r(),i(1,"div",1),l("click",function(c){return c.stopPropagation()}),i(2,"h2"),p(3,"Ingreso de T\xE9cnicos"),r(),i(4,"form",2),l("ngSubmit",function(){return e.ingresar()}),i(5,"div",3)(6,"label",4),p(7,"ID de T\xE9cnico"),r(),i(8,"input",5),O("ngModelChange",function(c){return I(e.tecnicoId,c)||(e.tecnicoId=c),c}),r()(),i(9,"div",3)(10,"label",6),p(11,"Contrase\xF1a"),r(),i(12,"input",7),O("ngModelChange",function(c){return I(e.password,c)||(e.password=c),c}),r()(),i(13,"button",8),p(14,"Ingresar"),r()(),C(15,K,2,1,"div",9),r()),t&2&&(s(8),k("ngModel",e.tecnicoId),s(4),k("ngModel",e.password),s(3),m("ngIf",e.errorMsg))},dependencies:[b,M,W,F,V,R,z,U,N,D],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;z-index:1000}.modal-ingreso[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#232946;color:#fff;border-radius:16px;padding:2rem 2.5rem 1.5rem;min-width:340px;max-width:95vw;z-index:1001;box-shadow:0 8px 32px #0006;max-height:80vh;overflow-y:auto;display:flex;flex-direction:column;align-items:center}h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#a5b4fc;font-size:1.3rem;font-weight:700;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem;width:100%;display:flex;flex-direction:column;align-items:flex-start}label[_ngcontent-%COMP%]{color:#b0b0b0;font-size:1rem;margin-bottom:.3rem;font-weight:500}input[_ngcontent-%COMP%]{width:100%;padding:.7rem 1rem;border-radius:8px;border:1px solid #374151;background:#111827cc;color:#e0e0e0;font-size:1rem;margin-bottom:.2rem;transition:border .2s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#111827e6}.btn-ingresar[_ngcontent-%COMP%]{width:100%;margin-top:.5rem;padding:.7rem 0;font-size:1.08rem;border-radius:8px;font-weight:600}.error-msg[_ngcontent-%COMP%]{color:#ff6b6b;margin-top:.7rem;text-align:center;font-weight:500;font-size:1rem}"]})};var X=()=>({exact:!0});function Z(n,a){if(n&1){let t=_();i(0,"li")(1,"a",12),l("click",function(){g(t);let o=d();return u(o.closeMenu())}),p(2,"Mis Citas"),r()()}}function $(n,a){if(n&1){let t=_();i(0,"li")(1,"a",13),l("click",function(o){g(t);let c=d();return c.abrirModalTecnicos(),c.closeMenu(),u(o.preventDefault())}),p(2,"T\xE9cnicos"),r()()}}function ee(n,a){if(n&1){let t=_();i(0,"li")(1,"a",14),l("click",function(o){g(t);let c=d();return c.abrirModalLogin(),c.closeMenu(),u(o.preventDefault())}),p(2,"Ingreso clientes"),r()()}}function te(n,a){if(n&1){let t=_();i(0,"li")(1,"a",14),l("click",function(o){g(t);let c=d();return c.abrirModalResenasTecnico(),c.closeMenu(),u(o.preventDefault())}),p(2,"Mis rese\xF1as"),r()()}}function ne(n,a){if(n&1){let t=_();i(0,"li")(1,"a",14),l("click",function(o){return g(t),d().logoutTecnico(),u(o.preventDefault())}),p(2,"Cerrar sesi\xF3n"),r()()}}function oe(n,a){if(n&1){let t=_();i(0,"li")(1,"a",14),l("click",function(o){return g(t),d().logoutCliente(),u(o.preventDefault())}),p(2,"Cerrar sesi\xF3n"),r()()}}function ie(n,a){if(n&1){let t=_();i(0,"app-ingreso-tecnicos",15),l("close",function(){g(t);let o=d();return u(o.cerrarModalTecnicos())})("loginSuccess",function(o){g(t);let c=d();return u(c.loginTecnico(o))}),r()}}function re(n,a){if(n&1){let t=_();i(0,"app-login",16),l("close",function(){g(t);let o=d();return u(o.cerrarModalLogin())}),r()}}function ae(n,a){if(n&1){let t=_();i(0,"app-tecnicos-resenas-modal",17),l("close",function(){g(t);let o=d();return u(o.cerrarModalResenasTecnico())}),r()}if(n&2){let t=d();m("tecnicoId",t.tecnicoIdResenas)}}var G=class n{constructor(a){this.router=a}title="sertech";isMenuOpen=!1;mostrarModalTecnicos=!1;tecnicoLogueado=null;mostrarModalLogin=!1;clienteLogueado=null;mostrarModalResenasTecnico=!1;tecnicoIdResenas="";toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}abrirModalTecnicos(){this.mostrarModalTecnicos=!0}cerrarModalTecnicos(){this.mostrarModalTecnicos=!1}loginTecnico(a){this.tecnicoLogueado=a,localStorage.setItem("tecnicoLogueado",a)}logoutTecnico(){this.tecnicoLogueado=null,localStorage.removeItem("tecnicoLogueado"),this.router.navigate(["/"])}abrirModalLogin(){this.mostrarModalLogin=!0}cerrarModalLogin(){this.mostrarModalLogin=!1,this.recargarEstadoUsuario()}logoutCliente(){this.clienteLogueado=null,localStorage.removeItem("clienteLogueado"),localStorage.removeItem("emailLogin"),this.router.navigate(["/"])}abrirModalResenasTecnico(){this.tecnicoIdResenas=this.tecnicoLogueado||"",this.mostrarModalResenasTecnico=!0}cerrarModalResenasTecnico(){this.mostrarModalResenasTecnico=!1,this.tecnicoIdResenas=""}ngOnInit(){this.recargarEstadoUsuario(),localStorage.getItem("clienteLogueado")||localStorage.removeItem("emailLogin"),window.addEventListener("storage",a=>{(a.key==="clienteLogueado"||a.key==="tecnicoLogueado")&&this.recargarEstadoUsuario()})}recargarEstadoUsuario(){this.tecnicoLogueado=localStorage.getItem("tecnicoLogueado"),this.clienteLogueado=localStorage.getItem("clienteLogueado")}actualizarEstadoUsuario(){this.recargarEstadoUsuario()}get estaLogueadoComoCliente(){return!!localStorage.getItem("clienteLogueado")||!!localStorage.getItem("emailLogin")}static \u0275fac=function(t){return new(t||n)(f(v))};static \u0275cmp=x({type:n,selectors:[["app-root"]],decls:31,vars:13,consts:[[1,"navbar"],[1,"container"],[1,"nav-brand"],[1,"hamburger",3,"click"],[1,"nav-menu"],["routerLink","/","routerLinkActive","active",3,"click","routerLinkActiveOptions"],["routerLink","/quienes-somos","routerLinkActive","active",3,"click"],[4,"ngIf"],[3,"close","loginSuccess",4,"ngIf"],[3,"close",4,"ngIf"],[3,"tecnicoId","close",4,"ngIf"],[1,"footer"],["routerLink","/mis-citas","routerLinkActive","active",3,"click"],["href","#","routerLinkActive","active",1,"",3,"click"],["href","#",3,"click"],[3,"close","loginSuccess"],[3,"close"],[3,"close","tecnicoId"]],template:function(t,e){t&1&&(i(0,"nav",0)(1,"div",1)(2,"div",2)(3,"h2"),p(4,"SerTech"),r()(),i(5,"div",3),l("click",function(){return e.toggleMenu()}),T(6,"span")(7,"span")(8,"span"),r(),i(9,"ul",4)(10,"li")(11,"a",5),l("click",function(){return e.closeMenu()}),p(12,"Inicio"),r()(),i(13,"li")(14,"a",6),l("click",function(){return e.closeMenu()}),p(15,"\xBFQuienes Somos?"),r()(),C(16,Z,3,0,"li",7)(17,$,3,0,"li",7)(18,ee,3,0,"li",7)(19,te,3,0,"li",7)(20,ne,3,0,"li",7)(21,oe,3,0,"li",7),r()()(),i(22,"main"),T(23,"router-outlet"),r(),C(24,ie,1,0,"app-ingreso-tecnicos",8)(25,re,1,0,"app-login",9)(26,ae,1,1,"app-tecnicos-resenas-modal",10),i(27,"footer",11)(28,"div",1)(29,"p"),p(30,"\xA9 2024 SerTech. Todos los derechos reservados."),r()()()),t&2&&(s(9),S("active",e.isMenuOpen),s(2),m("routerLinkActiveOptions",L(12,X)),s(5),m("ngIf",e.tecnicoLogueado||e.clienteLogueado),s(),m("ngIf",!e.tecnicoLogueado&&!e.clienteLogueado),s(),m("ngIf",!e.estaLogueadoComoCliente&&!e.tecnicoLogueado),s(),m("ngIf",e.tecnicoLogueado),s(),m("ngIf",e.tecnicoLogueado),s(),m("ngIf",e.clienteLogueado),s(3),m("ngIf",e.mostrarModalTecnicos),s(),m("ngIf",e.mostrarModalLogin),s(),m("ngIf",e.mostrarModalResenasTecnico))},dependencies:[y,E,A,b,M,h,B,q],styles:['@charset "UTF-8";.navbar[_ngcontent-%COMP%]{background:#1f2937e6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);padding:1rem 0;position:sticky;top:0;z-index:1000;box-shadow:0 4px 20px #0000004d;border-bottom:1px solid rgba(255,255,255,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center}.nav-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:1.5rem;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.nav-menu[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0;padding:0;gap:2rem}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e0e0e0;text-decoration:none;padding:.5rem 1rem;border-radius:8px;transition:all .3s ease;font-weight:500;font-size:1rem}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#fff;background:#667eea33;font-size:1.05rem;transform:translateY(-1px)}.hamburger[_ngcontent-%COMP%]{display:none;flex-direction:column;cursor:pointer;padding:5px}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25px;height:3px;background:#e0e0e0;margin:3px 0;transition:.3s;border-radius:2px}main[_ngcontent-%COMP%]{min-height:calc(100vh - 140px);background:transparent}.footer[_ngcontent-%COMP%]{background:#1f2937e6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);color:#e0e0e0;text-align:center;padding:1rem 0;margin-top:auto;border-top:1px solid rgba(255,255,255,.1)}@media (max-width: 768px){.nav-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.nav-menu[_ngcontent-%COMP%]{position:fixed;left:-100%;top:70px;flex-direction:column;background:#1f2937f2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);width:100%;text-align:center;transition:.3s;box-shadow:0 10px 27px #0000000d;padding:2rem 0;gap:1rem}.nav-menu.active[_ngcontent-%COMP%]{left:0}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1.1rem;border-radius:0;border-bottom:1px solid rgba(255,255,255,.1)}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#667eea4d;font-size:1.1rem;transform:none}.hamburger[_ngcontent-%COMP%]{display:flex}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:rotate(-45deg) translate(-5px,6px)}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){opacity:0}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:rotate(45deg) translate(-5px,-6px)}}@media (max-width: 480px){.container[_ngcontent-%COMP%]{padding:0 15px}.nav-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.nav-menu[_ngcontent-%COMP%]{top:65px}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.8rem 1.5rem;font-size:1rem}}']})};export{G as a};
