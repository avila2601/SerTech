import{a as E}from"./chunk-7L3OMWMM.js";import{Ba as C,Fa as g,La as c,Na as o,Oa as a,Qa as f,Ra as _,Ta as l,Ua as x,Ya as r,Za as d,da as u,fb as h,gb as M,sa as v,ta as s,vb as O,wb as T,xa as b,xb as y,yb as S}from"./chunk-QVS6JBII.js";function I(n,e){n&1&&(o(0,"div",6)(1,"p"),r(2,"Cargando rese\xF1as..."),a()())}function P(n,e){n&1&&(o(0,"div",7)(1,"p"),r(2,"No hay rese\xF1as para este t\xE9cnico."),a()())}function k(n,e){n&1&&(f(0),r(1,"\u2605"),_())}function w(n,e){n&1&&(f(0),r(1,"\u2606"),_())}function F(n,e){if(n&1&&(o(0,"div",8)(1,"div",9)(2,"span",10),r(3),a(),o(4,"span",11),g(5,k,2,0,"ng-container",12)(6,w,2,0,"ng-container",12),a()(),o(7,"div",13),r(8),a(),o(9,"div",14),r(10),h(11,"date"),a()()),n&2){let t=e.$implicit,i=x();s(3),d(t.cliente),s(2),c("ngForOf",i.getStars(t.calificacion)),s(),c("ngForOf",i.getEmptyStars(t.calificacion)),s(2),d(t.comentario),s(2),d(M(11,5,t.fecha,"longDate"))}}var R=class n{constructor(e){this.resenaService=e}tecnicoId="";close=new u;resenas=[];cargando=!0;onEsc(e){this.cerrar()}ngOnInit(){this.cargarResenas()}cargarResenas(){this.cargando=!0,this.resenaService.getResenasPorTecnico(this.tecnicoId).subscribe({next:e=>{this.resenas=e,this.cargando=!1},error:e=>{console.error("Error al cargar rese\xF1as:",e),this.resenas=[],this.cargando=!1}})}getStars(e){return Array(e).fill(0)}getEmptyStars(e){return Array(5-e).fill(0)}cerrar(){this.close.emit()}static \u0275fac=function(t){return new(t||n)(b(E))};static \u0275cmp=C({type:n,selectors:[["app-tecnicos-resenas-modal"]],hostBindings:function(t,i){t&1&&l("keydown.escape",function(p){return i.onEsc(p)},!1,v)},inputs:{tecnicoId:"tecnicoId"},outputs:{close:"close"},decls:9,vars:3,consts:[[1,"modal-backdrop",3,"click"],[1,"modal-resenas",3,"click"],["class","cargando",4,"ngIf"],["class","sin-resenas",4,"ngIf"],["class","resena-card",4,"ngFor","ngForOf"],[1,"btn","btn-secondary","cerrar-btn",3,"click"],[1,"cargando"],[1,"sin-resenas"],[1,"resena-card"],[1,"resena-header"],[1,"cliente"],[1,"calificacion"],[4,"ngFor","ngForOf"],[1,"resena-comentario"],[1,"resena-fecha"]],template:function(t,i){t&1&&(o(0,"div",0),l("click",function(){return i.cerrar()}),a(),o(1,"div",1),l("click",function(p){return p.stopPropagation()}),o(2,"h2"),r(3,"Rese\xF1as de clientes"),a(),g(4,I,3,0,"div",2)(5,P,3,0,"div",3)(6,F,12,8,"div",4),o(7,"button",5),l("click",function(){return i.cerrar()}),r(8,"Cerrar"),a()()),t&2&&(s(4),c("ngIf",i.cargando),s(),c("ngIf",!i.cargando&&i.resenas.length===0),s(),c("ngForOf",i.resenas))},dependencies:[S,O,T,y],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;z-index:1000}.modal-resenas[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#232946;color:#fff;border-radius:16px;padding:2rem 1.5rem 1.5rem;min-width:340px;max-width:95vw;z-index:1001;box-shadow:0 8px 32px #0006;max-height:80vh;overflow-y:auto}.modal-resenas[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.2rem}.resena-card[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:10px;margin-bottom:1.2rem;padding:1rem;box-shadow:0 2px 8px #00000014}.resena-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.cliente[_ngcontent-%COMP%]{font-weight:600;color:#a7a9be}.calificacion[_ngcontent-%COMP%]{color:gold;font-size:1.1rem}.resena-comentario[_ngcontent-%COMP%]{margin-bottom:.3rem;color:#e0e0e0}.resena-fecha[_ngcontent-%COMP%]{font-size:.9rem;color:#b0b0b0;text-align:right}.cerrar-btn[_ngcontent-%COMP%]{margin-top:1rem;width:100%}.sin-resenas[_ngcontent-%COMP%], .cargando[_ngcontent-%COMP%]{text-align:center;color:#b0b0b0;margin-bottom:1rem}"]})};export{R as a};
