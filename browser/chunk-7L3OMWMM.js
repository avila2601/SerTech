import{Db as m,H as a,M as p,R as l,a as u,b as f,e as c,p as g}from"./chunk-QVS6JBII.js";var b=class r{constructor(t){this.http=t}API_URL="http://localhost:3001";getResenas(){return this.http.get(`${this.API_URL}/resenas`)}getResenasPorTecnico(t){return this.getResenas().pipe(a(e=>{let i=e.filter(n=>n.tecnicoId===t);return new c(n=>{n.next(i),n.complete()})}))}existeResena(t,e,i){return this.getResenas().pipe(g(n=>n.some(s=>!!(s.tecnicoId===t&&s.clienteId===e||i&&s.tecnicoId===t&&s.cliente===i))))}agregarResena(t){return this.getResenas().pipe(a(e=>{let i=e.length>0?(Math.max(...e.map(o=>+o.id))+1).toString():"1",n=f(u({},t),{id:i}),s=[...e,n];return this.http.put(`${this.API_URL}/resenas`,s).pipe(a(()=>new c(o=>{o.next(n),o.complete()})))}))}static \u0275fac=function(e){return new(e||r)(l(m))};static \u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"})};var d=class r{constructor(t){this.http=t}url="assets/data/tecnicos.json";getTecnicos(){return this.http.get(this.url)}getTecnicoById(t){return new c(e=>{this.getTecnicos().subscribe(i=>{e.next(i.find(n=>n.id===t)),e.complete()})})}getTecnicosDisponibles(){return new c(t=>{this.getTecnicos().subscribe(e=>{t.next(e.filter(i=>i.disponible)),t.complete()})})}static \u0275fac=function(e){return new(e||r)(l(m))};static \u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"})};export{b as a,d as b};
