<div class="container">
  <div class="tecnicos-header">
    <h1>Profesionales expertos en equipos</h1>
    <p>Selecciona el técnico de tu preferencia</p>
  </div>

  <div class="tecnicos-grid">
    <div *ngFor="let technician of technicians" class="tecnico-card">
      <div class="tecnico-avatar">
        <img
          [src]="technician.photo || getRandomAvatar(technician.id)"
          alt="Avatar técnico"
        />
      </div>
      <div class="tecnico-info">
        <h3>{{ technician.name }}</h3>
        <p class="especialidad">{{ technician.specialty }}</p>
        <div class="rating-section">
          <div class="rating-info">
            <div class="stars">
              <span class="star">★</span>
            </div>
            <span class="rating-value">{{ technician.rating }}</span>
          </div>
          <button
            class="btn btn-primary btn-comentarios"
            (click)="openReviewsModal(technician.id)"
          >
            Ver comentarios
          </button>
        </div>
        <!-- <p class="experiencia">{{ technician.experience }} años de experiencia</p> -->
      </div>
      <div class="tecnico-actions">
        <button
          class="btn btn-primary"
          [disabled]="!technician.available"
          (click)="selectTechnician(technician)"
        >
          {{ technician.available ? "Seleccionar" : "No disponible" }}
        </button>
      </div>
    </div>
  </div>

  <div *ngIf="technicians.length === 0" class="no-tecnicos">
    <p>No hay técnicos disponibles en este momento.</p>
  </div>

  <div class="tecnicos-actions">
    <button class="btn btn-secondary" (click)="goBackToServices()">
      Volver a Servicios
    </button>
  </div>

  <app-tecnicos-resenas-modal
    *ngIf="showReviewsModal"
    [tecnicoId]="modalTechnicianId"
    (close)="closeReviewsModal()"
  ></app-tecnicos-resenas-modal>
</div>
